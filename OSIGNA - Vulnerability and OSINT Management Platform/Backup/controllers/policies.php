<?php

class pol
{
	public $name = "MyName";
	public $type = "OSINT";
	public $id = 1;
}

class Policies extends Auth_Controller {

	function index()
	{
		// load view : liste des policy
		$data['main_content'] = 'policies_index';
		$opt_load = array(
			'<link rel="stylesheet" type="text/css" href="http://www.datalabsecurity.com/webscan/resources/css/dashboardui.css" />',
			'<link rel="stylesheet" type="text/css" href="http://www.datalabsecurity.com/webscan/resources/css/css3-buttons.css" />',
			'<link rel="stylesheet" type="text/css" href="http://www.datalabsecurity.com/webscan/resources/css/jquery-ui-1.8.2.custom.css" />',
			'<script type="text/javascript" src="http://www.datalabsecurity.com/webscan/resources/js/jquery-1.6.4.min.js"></script>',
			'<script type="text/javascript" src="http://www.datalabsecurity.com/webscan/resources/js/jquery-ui-1.8.16.custom.min.js"></script>',
			'<script type="text/javascript" src="http://www.datalabsecurity.com/webscan/resources/js/jquery.dashboard.min.js"></script>',
			);
			
		$opt_head = array(
			"title" => "Policies",
			"opt_load" => $opt_load,
			);
			
		// temp objects to replace with real sql request
		$policies = array();
		for($i=0;$i<5;$i++)
		{
			$policies[] = new pol();
		}
		$opt = array($policies);
		
		$data['opt'] = $opt;
		$data['opt_head'] = $opt_head;
		$this->load->view('includes/template-beta', $data);	
	}
	
	function add()
	{
		// load view : formulaire new policy
		$data['main_content'] = 'policy_add';
		$opt_load = array(
			'<link rel="stylesheet" type="text/css" href="http://www.datalabsecurity.com/webscan/resources/css/dashboardui.css" />',
			'<link rel="stylesheet" type="text/css" href="http://www.datalabsecurity.com/webscan/resources/css/css3-buttons.css" />',
			'<link rel="stylesheet" type="text/css" href="http://www.datalabsecurity.com/webscan/resources/css/progress.css" />',
			'<script type="text/javascript" src="http://www.datalabsecurity.com/webscan/resources/js/jquery-1.6.4.min.js"></script>',
			'<script src="http://www.datalabsecurity.com/webscan/resources/js/jquery.easytabs.min.js" type="text/javascript"></script>',
			'<script type="text/javascript" src="http://www.datalabsecurity.com/webscan/resources/js/progress.js"></script>',
			);
		$opt_head = array(
			"title" => "Policies",
			"opt_load" => $opt_load,
			);
		$data['opt_head'] = $opt_head;
		$this->load->view('includes/template-beta', $data);	
	}
	
	function detail($policyId)
	{ 
		// load view : policy_detail
		$data['main_content'] = 'policies_detail';
		$opt_load = array(
			'<link rel="stylesheet" type="text/css" href="http://www.datalabsecurity.com/webscan/resources/css/dashboardui.css" />',
			'<link rel="stylesheet" type="text/css" href="http://www.datalabsecurity.com/webscan/resources/css/css3-buttons.css" />',
			'<link rel="stylesheet" type="text/css" href="http://www.datalabsecurity.com/webscan/resources/css/progress.css" />',
			'<script type="text/javascript" src="http://www.datalabsecurity.com/webscan/resources/js/jquery-1.6.4.min.js"></script>',
			'<script src="http://www.datalabsecurity.com/webscan/resources/js/jquery.easytabs.min.js" type="text/javascript"></script>',
			'<script type="text/javascript" src="http://www.datalabsecurity.com/webscan/resources/js/progress.js"></script>',
			);
		$opt_head = array(
			"title" => "Policies",
			"opt_load" => $opt_load,
			);
		$data['opt_head'] = $opt_head;
		$this->load->view('includes/template-beta', $data);	
	}
	
	function edit($policyID)
	{
		$data['main_content'] = 'policy_edit';
		$opt_load = array(
			'<link rel="stylesheet" type="text/css" href="http://www.datalabsecurity.com/webscan/resources/css/dashboardui.css" />',
			'<link rel="stylesheet" type="text/css" href="http://www.datalabsecurity.com/webscan/resources/css/css3-buttons.css" />',
			'<link rel="stylesheet" type="text/css" href="http://www.datalabsecurity.com/webscan/resources/css/progress.css" />',
			'<script type="text/javascript" src="http://www.datalabsecurity.com/webscan/resources/js/jquery-1.6.4.min.js"></script>',
			'<script src="http://www.datalabsecurity.com/webscan/resources/js/jquery.easytabs.min.js" type="text/javascript"></script>',
			'<script type="text/javascript" src="http://www.datalabsecurity.com/webscan/resources/js/progress.js"></script>',
			);
		$opt_head = array(
			"title" => "Policies",
			"opt_load" => $opt_load,
			);
		$data['opt_head'] = $opt_head;
		$this->load->view('includes/template-beta', $data);	
	}

}